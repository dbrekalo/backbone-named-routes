!function(r,u,o){"use strict";var a,e={routes:{}},n={pushState:!1,root:""},i={},c=/\((.*?)\)|(\(\?)?:\w+|\*\w+/,s=Array.prototype.slice,t={register:function(n,r,a){return"string"==typeof n?(e.routes[n]=r,e[r]=a,i[r]=n):(e=n,o.each(e.routes,function(t,e){i[t]=e})),t},get:function(r){var e=s.call(arguments,1),t=i[r];return e.length&&o.each(e,function(e){o.isObject(e)||(t=t.replace(c,e))}),n.root+t},navigate:function(){a.navigate.apply(a,arguments)},navigateToAlias:function(){var e=t.get.apply(t,arguments).substring(n.root.length),r=s.call(arguments,0).pop();o.isObject(r)?t.navigate(e,r):t.navigate(e)},start:function(r){var o=u.Router.extend(e);return a=new o,r&&t.setOptions(r),u.history.start(n),t},setOptions:function(e){return n=r.extend(n,e),t}};r.wk=r.wk||{},r.wk.router=t}(window.jQuery||window.Zepto,window.Backbone,window._);